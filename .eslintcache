[{"D:\\代码下载\\chance\\my-app\\src\\index.js":"1","D:\\代码下载\\chance\\my-app\\src\\App.js":"2","D:\\代码下载\\chance\\my-app\\src\\reportWebVitals.js":"3","D:\\代码下载\\chance\\my-app\\src\\Counter\\Counter.js":"4","D:\\代码下载\\untitled\\clone2\\src\\index.js":"5","D:\\代码下载\\untitled\\clone2\\src\\App.js":"6","D:\\代码下载\\untitled\\clone2\\src\\reportWebVitals.js":"7","D:\\代码下载\\untitled\\clone2\\src\\Counter\\Counter.js":"8","D:\\代码下载\\untitled\\clone2\\src\\context.js":"9","D:\\代码下载\\untitled\\clone2\\src\\SumList\\SumList.js":"10","D:\\代码下载\\untitled\\clone2\\src\\judgebox\\judgebox.js":"11","D:\\代码下载\\untitled\\clone2\\src\\Judgebox\\Judgebox.js":"12"},{"size":245,"mtime":1612207240365,"results":"13","hashOfConfig":"14"},{"size":181,"mtime":1612458685212,"results":"15","hashOfConfig":"14"},{"size":362,"mtime":499162500000,"results":"16","hashOfConfig":"14"},{"size":10164,"mtime":1612895902527,"results":"17","hashOfConfig":"14"},{"size":257,"mtime":1612896968787,"results":"18","hashOfConfig":"19"},{"size":194,"mtime":1612896968781,"results":"20","hashOfConfig":"19"},{"size":375,"mtime":1612896968791,"results":"21","hashOfConfig":"19"},{"size":8829,"mtime":1613818071698,"results":"22","hashOfConfig":"19"},{"size":136,"mtime":1613747062723,"results":"23","hashOfConfig":"19"},{"size":12752,"mtime":1613818206802,"results":"24","hashOfConfig":"19"},{"size":5591,"mtime":1613753516063,"results":"25","hashOfConfig":"19"},{"size":3873,"mtime":1613754005489,"results":"26","hashOfConfig":"19"},{"filePath":"27","messages":"28","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"29"},"17ymbcy",{"filePath":"30","messages":"31","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"29"},{"filePath":"32","messages":"33","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"29"},{"filePath":"34","messages":"35","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"36","messages":"37","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},"kvnon2",{"filePath":"39","messages":"40","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"41","messages":"42","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"43","messages":"44","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"45","messages":"46","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"47","messages":"48","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"49","messages":"50","errorCount":1,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"51","usedDeprecatedRules":"52"},{"filePath":"53","messages":"54","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},"D:\\代码下载\\chance\\my-app\\src\\index.js",[],["55","56"],"D:\\代码下载\\chance\\my-app\\src\\App.js",[],"D:\\代码下载\\chance\\my-app\\src\\reportWebVitals.js",[],"D:\\代码下载\\chance\\my-app\\src\\Counter\\Counter.js",["57","58"],"D:\\代码下载\\untitled\\clone2\\src\\index.js",[],["59","60"],"D:\\代码下载\\untitled\\clone2\\src\\App.js",[],"D:\\代码下载\\untitled\\clone2\\src\\reportWebVitals.js",[],"D:\\代码下载\\untitled\\clone2\\src\\Counter\\Counter.js",[],"D:\\代码下载\\untitled\\clone2\\src\\context.js",[],"D:\\代码下载\\untitled\\clone2\\src\\SumList\\SumList.js",[],"D:\\代码下载\\untitled\\clone2\\src\\judgebox\\judgebox.js",["61","62"],"import React, {useContext} from \"react\";\r\nimport styled from 'styled-components'\r\n\r\nimport {Checkbox} from \"antd\";\r\nimport SHA256 from \"crypto-js/sha256\";\r\n\r\nconst MyCheckbox = styled(Checkbox)`\r\n    font-size: 10px;\r\n    .ant-checkbox-inner{\r\n        background: #fff;\r\n        border: 2px solid #696969;\r\n        border-radius: 0;\r\n        ::after{\r\n            border: 2px solid #696969;\r\n            border-top: 0;\r\n            border-left: 0;\r\n        }\r\n    }\r\n`\r\n\r\nfunction judgebox(){\r\n\r\n    const { data,judge,chain,setChain,difficulty } = useContext(secondContext);\r\n\r\n    //judgebox onChange\r\n    function onChange(e) {\r\n        let currentTx = data.map( item => { return item.data } ).reduce((prev, item) => {\r\n            return prev.concat(item)\r\n        }).filter( item => item.txhash === e.target.value );\r\n        let now = new Date();\r\n        let newTx = {\r\n            id: currentTx[0].id,\r\n            name: currentTx[0].name,\r\n            complete: !currentTx[0].complete,\r\n            RUB: currentTx[0].RUB,\r\n            RMB: currentTx[0].RMB,\r\n            USD: currentTx[0].USD,\r\n            timestamp: now,\r\n            txhash: calculateTxHash(currentTx[0].id, currentTx[0].name, currentTx[0].RUB, currentTx[0].RMB, currentTx[0].USD, now, !currentTx[0].complete)\r\n        }\r\n        if ( !isLastestBlockFull() ) {\r\n            setChain( draft => {\r\n                draft[data.length-1].data.push(newTx);\r\n                draft[data.length-1].hash = calculateHash(draft[data.length-1].index, draft[data.length-1].previousHash, draft[data.length-1].timestamp, draft[data.length-1].data);\r\n            });\r\n        } else {\r\n            let block = {\r\n                data: []\r\n            };\r\n            block.index = data[data.length-1].index + 1;\r\n            block.previousHash =  data[data.length-1].hash;\r\n            let now = new Date();\r\n            block.timestamp = now;\r\n            block.data.push(newTx);\r\n            block.nonce = 0;\r\n            block.hash = calculateHash(block.index, block.previousHash, block.timestamp, block.data, block.nonce);\r\n            let miner = mineBlock(difficulty, block);\r\n            block.nonce = miner.nonce;\r\n            block.hash = miner.hash;\r\n            setChain(draft => {\r\n                draft.push(block);\r\n            })\r\n        }\r\n    }\r\n\r\n    //chaim methods\r\n    function calculateHash(index, previousHash, timestamp, data, nonce) {\r\n        return SHA256(index + previousHash + JSON.stringify(timestamp) + JSON.stringify(data) + nonce).toString();\r\n    }\r\n\r\n    function calculateTxHash(id, name, RUB, RMB, USD, timestamp, complete) {\r\n        return SHA256(id + name + RUB + RMB + USD + complete + JSON.stringify(timestamp)).toString();\r\n    }\r\n\r\n    function isLastestBlockFull() {\r\n        if (chain[chain.length - 1].data.length >= 5) {\r\n            return true\r\n        }\r\n        return false\r\n    }\r\n\r\n    function mineBlock(difficulty, block) {\r\n        let nonce = 0;\r\n        let hash = block.hash;\r\n        while (hash.substring(0, difficulty) !== Array(difficulty +1).join(\"0\")) {\r\n            nonce++;\r\n            hash = calculateHash(block.index, block.previousHash, block.timestamp, block.data, nonce);\r\n        }\r\n        return {\r\n            hash: hash,\r\n            nonce: nonce\r\n        }\r\n    }\r\n\r\n    function onChange(e) {\r\n        let currentTx = chain.map( item => { return item.data } ).reduce((prev, item) => {\r\n            return prev.concat(item)\r\n        }).filter( item => item.txhash === e.target.value );\r\n        let now = new Date();\r\n        let newTx = {\r\n            id: currentTx[0].id,\r\n            name: currentTx[0].name,\r\n            complete: !currentTx[0].complete,\r\n            RUB: currentTx[0].RUB,\r\n            RMB: currentTx[0].RMB,\r\n            USD: currentTx[0].USD,\r\n            timestamp: now,\r\n            txhash: calculateTxHash(currentTx[0].id, currentTx[0].name, currentTx[0].RUB, currentTx[0].RMB, currentTx[0].USD, now, !currentTx[0].complete)\r\n        }\r\n        if ( !isLastestBlockFull() ) {\r\n            setChain( draft => {\r\n                draft[data.length-1].data.push(newTx);\r\n                draft[data.length-1].hash = calculateHash(draft[chain.length-1].index, draft[chain.length-1].previousHash, draft[chain.length-1].timestamp, draft[chain.length-1].data);\r\n            });\r\n        } else {\r\n            let block = {\r\n                data: []\r\n            };\r\n            block.index = chain[chain.length-1].index + 1;\r\n            block.previousHash =  chain[chain.length-1].hash;\r\n            let now = new Date();\r\n            block.timestamp = now;\r\n            block.data.push(newTx);\r\n            block.nonce = 0;\r\n            block.hash = calculateHash(block.index, block.previousHash, block.timestamp, block.data, block.nonce);\r\n            let miner = mineBlock(difficulty, block);\r\n            block.nonce = miner.nonce;\r\n            block.hash = miner.hash;\r\n            setChain(draft => {\r\n                draft.push(block);\r\n            })\r\n        }\r\n    }\r\n    if (judge) {\r\n        return (\r\n            <>\r\n                <MyCheckbox checked={data.complete} value={data.txhash} onChange={onChange}>\r\n                    {data.name}\r\n                </MyCheckbox>\r\n            </>\r\n        );\r\n    } else {\r\n        return (\r\n            <>\r\n                <MyCheckbox checked={data.complete} value={data.txhash} onChange={onChange}>\r\n                    <del>{data.name}</del>\r\n                </MyCheckbox>\r\n            </>\r\n        );\r\n    }\r\n}\r\n\r\nexport default judgebox",["63","64"],"D:\\代码下载\\untitled\\clone2\\src\\Judgebox\\Judgebox.js",[],{"ruleId":"65","replacedBy":"66"},{"ruleId":"67","replacedBy":"68"},{"ruleId":"69","severity":1,"message":"70","line":198,"column":7,"nodeType":"71","endLine":198,"endColumn":35,"suggestions":"72"},{"ruleId":"69","severity":1,"message":"73","line":214,"column":8,"nodeType":"71","endLine":214,"endColumn":10,"suggestions":"74"},{"ruleId":"65","replacedBy":"75"},{"ruleId":"67","replacedBy":"76"},{"ruleId":"77","severity":2,"message":"78","line":23,"column":54,"nodeType":"79","endLine":23,"endColumn":64},{"ruleId":"80","severity":1,"message":"81","line":95,"column":14,"nodeType":"79","messageId":"82","endLine":95,"endColumn":22},{"ruleId":"65","replacedBy":"83"},{"ruleId":"67","replacedBy":"84"},"no-native-reassign",["85"],"no-negated-in-lhs",["86"],"react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'inList' and 'setTaskNull'. Either include them or remove the dependency array.","ArrayExpression",["87"],"React Hook useEffect has a missing dependency: 'setRate'. Either include it or remove the dependency array.",["88"],["85"],["86"],"react-hooks/rules-of-hooks","React Hook \"useContext\" is called in function \"judgebox\" that is neither a React function component nor a custom React Hook function. React component names must start with an uppercase letter.","Identifier","no-redeclare","'onChange' is already defined.","redeclared",["85"],["86"],"no-global-assign","no-unsafe-negation",{"desc":"89","fix":"90"},{"desc":"91","fix":"92"},"Update the dependencies array to be: [task.USD, task.RMB, task.RUB, inList, setTaskNull]",{"range":"93","text":"94"},"Update the dependencies array to be: [setRate]",{"range":"95","text":"96"},[4944,4972],"[task.USD, task.RMB, task.RUB, inList, setTaskNull]",[5429,5431],"[setRate]"]